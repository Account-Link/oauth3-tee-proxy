{% extends "base.html" %}
{% import "macros.html" as ui %}

{% block title %}Submit Twitter Cookie - OAuth3 TEE Proxy{% endblock %}

{% block page_title %}Submit Twitter Cookie{% endblock %}

{% block content %}
<div class="instructions">
    <h2>How to get your Twitter cookie</h2>
    
    {% set steps = [
        "Log in to <a href=\"https://twitter.com\" target=\"_blank\">Twitter</a> in your browser",
        
        "Open your browser's Developer Tools:
        <ul>
            <li>Chrome/Edge: Press F12 or right-click anywhere and select \"Inspect\"</li>
            <li>Firefox: Press F12 or right-click and select \"Inspect Element\"</li>
            <li>Safari: First enable Developer Tools in Safari Preferences > Advanced, then press Command+Option+I</li>
        </ul>",
        
        "Navigate to the Storage/Application section:
        <ul>
            <li>Chrome/Edge: Click on the \"Application\" tab</li>
            <li>Firefox: Click on the \"Storage\" tab</li>
            <li>Safari: Click on the \"Storage\" tab</li>
        </ul>",
        
        "Find and expand the \"Cookies\" section, then click on \"https://twitter.com\"",
        
        "Find the cookie named <code>auth_token</code> in the list and copy its value",
        
        "<strong>Important:</strong> Format the cookie correctly by prepending \"auth_token=\" to the value you copied:
        <div class=\"example\">auth_token=YOUR_COOKIE_VALUE</div>
        where <code>YOUR_COOKIE_VALUE</code> is the value of the auth_token cookie you copied.",
        
        "Paste the formatted cookie in the text box below"
    ] %}
    
    {{ ui.instruction_steps(steps) }}
    
    <div class="note">
        <p class="important">Security note:</p>
        <p>Your Twitter cookie is sensitive information. This proxy will store this cookie in a secure environment to access Twitter on your behalf. The cookie is only used to make authorized API calls to Twitter.</p>
    </div>
</div>

<form action="/twitter/cookie" method="POST" enctype="application/x-www-form-urlencoded" class="cookie-form">
    {{ ui.textarea(
        name="twitter_cookie",
        id="twitter_cookie",
        label="Twitter auth_token Cookie:",
        placeholder="Paste your cookie here in the format: auth_token=YOUR_COOKIE_VALUE",
        required=true,
        rows=6
    ) }}
    <div class="note">Example: <code>auth_token=a1b2c3d4...</code> (much longer value)</div>
    
    <div class="button-group mt-3">
        {{ ui.button('Submit Cookie', '#', '', 'submit') }}
        {{ ui.button('Back to Dashboard', '/dashboard', 'button', style='background-color: #6c757d;') }}
    </div>
</form>
{% endblock %}